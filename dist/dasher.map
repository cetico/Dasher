{"version":3,"sources":["node_modules\\lodash\\head.js","node_modules\\lodash\\first.js","node_modules\\lodash\\last.js","src\\Dasher.js","test.js","..\\..\\..\\Users\\cgone\\AppData\\Roaming\\npm\\node_modules\\parcel-bundler\\src\\builtins\\bundle-url.js","..\\..\\..\\Users\\cgone\\AppData\\Roaming\\npm\\node_modules\\parcel-bundler\\src\\builtins\\css-loader.js"],"names":["_","first","last","Dasher","opts","DASHER_NAME","dasher","DASHES_NAME","dash","DASHER","document","getElementById","DASHES","getElementsByClassName","DASH_SPEED","DashSpeed","DASH_TRANSITION","DashTransition","onWheel","bind","LOOP_DASHING","loopDashing","MAX_SCROLLSPEED","maxScrollSpeed","STD_MENU","stdMenu","TIMER","Date","now","ACTIVE_DASH","SCROLL_HISTORY","PHANTOM_HISTORY","TEST","PHANTOM_ENABLED","PHANTOM_PROP","PHANTOM_START","switch","done","PHANTOM_HANDLER","value","phantomHandler","phantomAnimation","phantomDefaultAnimation","console","log","property","PHANTOM_PRE","style","animation","setTimeout","e","updateScrollHistory","deltaY","isOverflowHandler","handleOverflowScroll","isAtEdges","direction","getDirection","isAtBottom","amount","restorePhantomDash","isAtTop","x","handlePhantomScroll","handleDash","inner","querySelector","matrix","window","getComputedStyle","transform","matrixOffset","getMatrixHeight","innerHeight","Math","abs","scrollHeight","overflow","matrixHeight","newOffset","offsetHeight","length","shift","push","event","currentOffset","moveY","min","max","parseInt","modifier","isAccelerating","DASHING","scrollHistory","getNextOffset","Number","split","replace","end","getAverage","average","elements","number","sum","lastElements","slice","i","ceil","nextDash","getNextDash","LOOP_DASH","enoughTimePassed","isEnoughTimePassed","setActiveDash","setActiveMenu","moveNextDash","menu","Array","from","map","index","classList","contains","childNodes","add","remove","passed","offsetTop","next","selection","sibling","loopDash","forEach","el","setDashingState","duration","transition","height","width","minHeight","org_html","innerHTML","new_html","target","dataset","ul","createElement","li","onclick","handleMenuClick","appendChild","body","_initInnerDash","_initStdMenu","_initDashStyles","setDasherAnimation","_initDOM","addEventListener","start","handler","bundleURL","getBundleURLCached","getBundleURL","Error","err","matches","stack","match","getBaseURL","url","exports","bundle","require","updateLink","link","newLink","cloneNode","onload","href","parentNode","insertBefore","nextSibling","cssTimeout","reloadCSS","links","querySelectorAll","module"],"mappings":"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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AN7BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvBA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEpBA;;AAEA;;;;;;AAEA,IAAMjL,SAAS,qBAAW;AACxB;AADwB,CAAX,CAAf;AAGAA,OAAOwJ,KAAP;;AAEA,SAASC,OAAT,CAAiBvJ,IAAjB,EAAuB+B,KAAvB,EAA8B;AAC5BI,UAAQC,GAAR,CAAY,UAAZ,EAAwBpC,IAAxB;AACD","file":"dasher.map","sourcesContent":["/**\n * Gets the first element of `array`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @alias first\n * @category Array\n * @param {Array} array The array to query.\n * @returns {*} Returns the first element of `array`.\n * @example\n *\n * _.head([1, 2, 3]);\n * // => 1\n *\n * _.head([]);\n * // => undefined\n */\nfunction head(array) {\n  return (array && array.length) ? array[0] : undefined;\n}\n\nmodule.exports = head;\n","module.exports = require('./head');\n","/**\n * Gets the last element of `array`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to query.\n * @returns {*} Returns the last element of `array`.\n * @example\n *\n * _.last([1, 2, 3]);\n * // => 3\n */\nfunction last(array) {\n  var length = array == null ? 0 : array.length;\n  return length ? array[length - 1] : undefined;\n}\n\nmodule.exports = last;\n","import first from \"lodash/first\";\r\nimport last from \"lodash/last\";\r\n\r\nconst _ = {\r\n  first,\r\n  last\r\n}\r\n\r\nclass Dasher {\r\n\r\n  constructor(opts = {}) {\r\n    this.DASHER_NAME      = opts.dasher || \"dasher\";\r\n    this.DASHES_NAME      = opts.dash || \"dash\";\r\n    this.DASHER           = document.getElementById( this.DASHER_NAME );\r\n    this.DASHES           = document.getElementsByClassName( this.DASHES_NAME );\r\n    this.DASH_SPEED       = opts.DashSpeed || 700;\r\n    this.DASH_TRANSITION  = opts.DashTransition || 'ease';\r\n    this.onWheel          = this.onWheel.bind(this);\r\n    this.LOOP_DASHING     = opts.loopDashing || false;\r\n    this.MAX_SCROLLSPEED  = opts.maxScrollSpeed || 15;\r\n    this.STD_MENU         = opts.stdMenu || true;\r\n    // this.PHANTOM          = opts.phantomDash || true; \r\n    // this.PHANTOM_HANDLER  = opts.phantomHandler || false;\r\n    this.TIMER            = Date.now();\r\n    this.ACTIVE_DASH      = _.first(this.DASHES);\r\n    this.SCROLL_HISTORY   = [];\r\n    this.PHANTOM_HISTORY  = 0;\r\n    this.TEST             = 0;\r\n\r\n    this.PHANTOM_ENABLED  = true;\r\n    this.PHANTOM_PROP     = 'opacity';\r\n    this.PHANTOM_START    = true;\r\n    this.switch           = false;\r\n    this.done             = false;\r\n\r\n    this.PHANTOM_HANDLER = function(dash = null, value = null) {\r\n      if(dash && value && opts.phantomHandler) {\r\n        return opts.phantomHandler(dash, value);\r\n      } \r\n      else if (opts.phantomAnimation) {\r\n        return this.phantomAnimation(dash, value, opts.phantomAnimation) \r\n      } else {\r\n        // _default_\r\n        return this.phantomDefaultAnimation(dash, value);\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  phantomDefaultAnimation(dash, value) {\r\n\r\n    console.log(dash, value)\r\n    const property = 'opacity';\r\n    this.PHANTOM_PROP = property;\r\n    if (this.PHANTOM_START) {\r\n      this.PHANTOM_PRE   = dash.style[ property ];\r\n      this.PHANTOM_START = false;\r\n    }\r\n    dash.style[ property ] = value;\r\n  }\r\n\r\n  phantomAnimation(dash, value, animation) {\r\n    console.log('phantom Animation')\r\n  }\r\n\r\n  restorePhantomDash(dash) {\r\n    setTimeout(() => {\r\n      this.PHANTOM_START = true;\r\n      console.log('restting dash: ', dash);\r\n      console.log('PRE PHANTOM: ', this.PHANTOM_PRE);\r\n      dash.style[ this.PHANTOM_PROP ] = this.PHANTOM_PRE;\r\n      console.log('resetting...');\r\n    }, this.DASH_SPEED);\r\n  }\r\n\r\n  onWheel(e) {\r\n    this.updateScrollHistory(e.deltaY);\r\n\r\n\r\n    // if not at edges and switch is false. Scroll within section.\r\n    if(this.isOverflowHandler(this.ACTIVE_DASH, e) && !this.switch) {\r\n      return this.handleOverflowScroll(e);\r\n    } else {\r\n      // If switch is not turned on yet:\r\n      if(!this.switch) {\r\n        // if we hit edges once. Turn switch on untill we are this.done.\r\n        if(this.isAtEdges(this.ACTIVE_DASH, e)) {\r\n          this.switch = true;\r\n        } \r\n      } // if switch is on and we are not done: Remember: Overflowscroll disabled because switch is on!\r\n      else if(this.switch && !this.done) {\r\n          \r\n          // TO-DO Determine if at bottom or at top.\r\n          // \r\n\r\n          // this.determineLocation(this.ACTIVE_DASH, e);\r\n\r\n          const direction = this.getDirection(e.deltaY);\r\n\r\n          if(this.isAtBottom(this.ACTIVE_DASH)) {\r\n            let amount = 0;\r\n            \r\n            if(direction.direction === 'down') {\r\n              console.log('going down');\r\n              amount = 1;\r\n              this.PHANTOM_HISTORY += amount;\r\n              const value = 1 - (this.PHANTOM_HISTORY / 100);\r\n              this.PHANTOM_HANDLER(this.ACTIVE_DASH, value);\r\n            }\r\n\r\n            //TO-DO break free if phantom history is -1;\r\n            else if(direction.direction === 'up') {\r\n              amount = -1;\r\n              this.PHANTOM_HISTORY += amount;\r\n              const value = 1 - (this.PHANTOM_HISTORY / 100);\r\n\r\n              this.PHANTOM_HANDLER(this.ACTIVE_DASH, value);\r\n              console.log(this.PHANTOM_HISTORY);\r\n            }\r\n\r\n            if(this.PHANTOM_HISTORY === 100) {\r\n              this.restorePhantomDash(this.ACTIVE_DASH);\r\n              this.done = true;\r\n              this.switch = false;\r\n            }\r\n              else if (this.PHANTOM_HISTORY <= 0) {\r\n                this.switch = false;\r\n              }\r\n\r\n          }\r\n          else if (this.isAtTop(this.ACTIVE_DASH)) {\r\n            let amount = 0;\r\n\r\n\r\n\r\n            if(direction.direction === 'down') {\r\n              amount = -1;\r\n              this.PHANTOM_HISTORY += amount;\r\n              const value = 1 - (this.PHANTOM_HISTORY / 100);\r\n\r\n              this.PHANTOM_HANDLER(this.ACTIVE_DASH, value);\r\n            }\r\n\r\n            else if (direction.direction === 'up') {\r\n              amount = 1;\r\n              this.PHANTOM_HISTORY += amount;\r\n              const value = 1 - (this.PHANTOM_HISTORY / 100);\r\n              this.PHANTOM_HANDLER(this.ACTIVE_DASH, value);\r\n            }\r\n\r\n            if( this.PHANTOM_HISTORY === 100 ) {\r\n              this.restorePhantomDash(this.ACTIVE_DASH);\r\n              this.done = true;\r\n              this.switch = false;\r\n            } \r\n            else if (this.PHANTOM_HISTORY <= 0) {\r\n              this.switch = false;\r\n            }\r\n          }\r\n\r\n          return;\r\n          // this.isAtBottom(this.ACTIVE_DASH, e);\r\n          \r\n          const x = e.deltaY > 0 ? 1 : -1;\r\n          \r\n\r\n\r\n          // console.log(direction);\r\n\r\n          if(direction.direction === 'down') {\r\n            // console.log('down');\r\n\r\n            const amount = 1;\r\n            this.PHANTOM_HISTORY += amount;\r\n            const value = 1 - (this.PHANTOM_HISTORY / 100);\r\n            this.PHANTOM_HANDLER(this.ACTIVE_DASH, value);\r\n\r\n            if(this.PHANTOM_HISTORY >= 100) {\r\n              this.restorePhantomDash(this.ACTIVE_DASH);\r\n              this.done = true;\r\n              this.switch = false;\r\n            }\r\n            if(this.PHANTOM_HISTORY < 0) {\r\n              this.switch = false;\r\n            }\r\n          } \r\n\r\n          else if (direction.direction === 'up') {\r\n\r\n            if(this.isAtTop(this.ACTIVE_DASH, e)) { // at bottom\r\n\r\n              const amount = -1;\r\n              this.PHANTOM_HISTORY += amount;\r\n              const value = 1 - (this.PHANTOM_HISTORY / 100);\r\n              this.PHANTOM_HANDLER(this.ACTIVE_DASH, value);\r\n              \r\n              if(this.PHANTOM_HISTORY < 0) {\r\n                this.switch = false;\r\n              }\r\n            } else { // at top.\r\n\r\n            }\r\n          }\r\n\r\n\r\n          \r\n          return;\r\n          // ============ ///\r\n          this.PHANTOM_HISTORY += x;\r\n          this.handlePhantomScroll(this.ACTIVE_DASH, e);\r\n          \r\n          if(this.PHANTOM_HISTORY >= 100) {\r\n            this.restorePhantomDash(this.ACTIVE_DASH);\r\n            this.done = true;\r\n            this.switch = false;\r\n          }\r\n          if(this.PHANTOM_HISTORY < 0) {\r\n            this.switch = false;\r\n          }\r\n      }\r\n\r\n       else {\r\n        //  console.log('switch');\r\n         this.PHANTOM_HISTORY = 0;\r\n         this.done = false;\r\n         this.switch = false;\r\n        return this.handleDash(e);\r\n      }\r\n      \r\n    } \r\n  }\r\n\r\n\r\n  isAtBottom(dash) {\r\n    const inner = dash.querySelector('.inner');\r\n    const matrix = window.getComputedStyle(inner).transform;\r\n    const matrixOffset = this.getMatrixHeight(matrix);\r\n\r\n    // console.log(window.innerHeight + Math.abs(matrixOffset));\r\n    return window.innerHeight + Math.abs(matrixOffset) === inner.scrollHeight;\r\n  }\r\n\r\n  isAtTop(dash) {\r\n    const inner = dash.querySelector('.inner');\r\n    const matrix = window.getComputedStyle(inner).transform;\r\n    const matrixOffset = this.getMatrixHeight(matrix);\r\n    console.log('calculating if at top')\r\n\r\n    return matrixOffset === 0;\r\n  }\r\n\r\n  \r\n  handlePhantomScroll(dash, e) {\r\n    const value = 1 - (this.PHANTOM_HISTORY / 100);\r\n    this.PHANTOM_HANDLER(dash, value);\r\n  }\r\n\r\n\r\n\r\n  \r\n\r\n  // isAtBottom(dash, e) {\r\n  //   const inner = dash.querySelector('.inner');\r\n  //   const matrix = window.getComputedStyle(inner).transform;\r\n  //   const matrixHeight = this.getMatrixHeight(matrix);\r\n  //   const newOffset = matrixHeight - e.deltaY;\r\n  //   const innerHeight = inner.offsetHeight - window.innerHeight;\r\n    \r\n  //   // also transform inner for seamlessly connecting.\r\n  //   if(innerHeight + newOffset <= 0) { //bottom\r\n  //     console.log('bottom')\r\n  //     // inner.style.transform = `matrix(1,0,0,1,0,${innerHeight * -1})`;\r\n  //     return true;\r\n  //   }\r\n  //   else if ( newOffset >= 0) { //top\r\n  //     // inner.style.transform = `matrix(1,0,0,1,0,1)`;\r\n  //     console.log('top')\r\n  //     return true;\r\n  //   } else {\r\n  //     return false; //overflow\r\n  //   }\r\n  // }\r\n\r\n  isPhantomHandler(dash, e) {\r\n    \r\n  }\r\n\r\n\r\n  // phantomHandler(dash, e) {\r\n  //   const inner = dash.querySelector('.inner');\r\n  //   const matrix = window.getComputedStyle(inner).transform;\r\n  //   const matrixHeight = this.getMatrixHeight(matrix);\r\n  //   const newOffset = matrixHeight - e.deltaY;\r\n  //   const innerHeight = inner.offsetHeight - window.innerHeight;\r\n\r\n  //   const event = this.getDirection(e.deltaY);\r\n  //   const abs = Math.abs(e.deltaY);\r\n  //   const moveY = Math.min(Math.max(parseInt(abs), 0.5), 10) * event.modifier;\r\n    \r\n  //   if(innerHeight + newOffset <= 0) {\r\n\r\n  //     this.PHANTOM_HISTORY += +moveY;\r\n  //     console.log(this.PHANTOM_HISTORY);\r\n  //     if(this.PHANTOM_HISTORY <= -1000) {\r\n  //       console.log('trigger');\r\n  //       this.PHANTOM_HISTORY = 0;\r\n  //       this.handleDash(e);\r\n  //     }\r\n  //   }\r\n  // }\r\n\r\n\r\n\r\n  isOverflowHandler(dash, e) {\r\n    const overflow = dash.scrollHeight > window.innerHeight;\r\n    // console.log('isOverFlowHandler overflow: ', overflow)\r\n    // console.log('isOverFlowHandler !isAtEdges: ', !this.isAtEdges(dash, e))\r\n    return overflow && !this.isAtEdges(dash, e);\r\n  }\r\n\r\n  isAtEdges(dash, e) {\r\n    const inner = dash.querySelector('.inner');\r\n    const matrix = window.getComputedStyle(inner).transform;\r\n    const matrixHeight = this.getMatrixHeight(matrix);\r\n    const newOffset = matrixHeight - e.deltaY;\r\n    const innerHeight = inner.offsetHeight - window.innerHeight;\r\n    \r\n    // also transform inner for seamlessly connecting.\r\n    if(innerHeight + newOffset <= 0) { //bottom\r\n      inner.style.transform = `matrix(1,0,0,1,0,${innerHeight * -1})`;\r\n      return true;\r\n    }\r\n    else if ( newOffset >= 0) { //top\r\n      inner.style.transform = `matrix(1,0,0,1,0,0)`;\r\n      return true;\r\n    } else {\r\n      return false; //overflow\r\n    }\r\n  }\r\n\r\n  updateScrollHistory(deltaY) {\r\n    if(this.SCROLL_HISTORY.length > 150) this.SCROLL_HISTORY.shift();\r\n    this.SCROLL_HISTORY.push(Math.abs(deltaY));\r\n  }\r\n\r\n  getNextOffset(inner, e) {\r\n    const event = this.getDirection(e.deltaY);\r\n    const matrix = window.getComputedStyle(inner).transform;\r\n    const currentOffset = this.getMatrixHeight(matrix);\r\n    const abs = Math.abs(e.deltaY);\r\n    const moveY = Math.min(Math.max(parseInt(abs), 0.5), this.MAX_SCROLLSPEED) * event.modifier;\r\n    return currentOffset + moveY;\r\n  }\r\n\r\n\r\n  handleOverflowScroll(e) {\r\n    const isAccelerating = this.isAccelerating(this.SCROLL_HISTORY);\r\n    if(!this.DASHING && isAccelerating) {\r\n      this.scrollHistory = [];\r\n      const inner = this.ACTIVE_DASH.querySelector('.inner');    \r\n      const newOffset = this.getNextOffset(inner, e);\r\n      return inner.style.transform = `matrix(1,0,0,1,0,${newOffset})`;\r\n    }\r\n  }\r\n\r\n  getMatrixHeight(matrix) {\r\n    return Number(_.last(matrix.split(',')).replace(')', ''));\r\n  }\r\n\r\n  isAccelerating(scrollHistory) {\r\n    const end = this.getAverage(scrollHistory, 10);\r\n    const average = this.getAverage(scrollHistory, 30);\r\n    return end >= average;\r\n  }\r\n\r\n  getAverage(elements, number) {\r\n    let sum = 0;\r\n    let lastElements = elements.slice(Math.max(elements.length - number, 1));\r\n    for(let i = 0; i < lastElements.length; i++){\r\n        sum = sum + lastElements[i];\r\n    }\r\n    return Math.ceil(sum/number);\r\n  }\r\n\r\n\r\n\r\n  handleDash(e) {\r\n    console.log(e);\r\n    const event    = this.getDirection(e.deltaY);\r\n    const nextDash = this.getNextDash(this.ACTIVE_DASH, this.LOOP_DASH, event);\r\n    \r\n    const enoughTimePassed = this.isEnoughTimePassed(Date.now());\r\n    \r\n    const isAccelerating = this.isAccelerating(this.SCROLL_HISTORY);\r\n\r\n    if( nextDash && enoughTimePassed ) {\r\n\r\n        if( isAccelerating || this.PHANTOM_ENABLED ) {\r\n\r\n          this.SCROLL_HISTORY = [];\r\n          this.TIMER = Date.now();             \r\n          \r\n          this.setActiveDash(nextDash);\r\n          if( this.STD_MENU ) {\r\n            this.setActiveMenu(nextDash);\r\n          }\r\n          this.moveNextDash(nextDash);\r\n        }\r\n      }\r\n  }\r\n\r\n  setActiveMenu(nextDash) {\r\n    const menu = document.querySelector(\".dasher-menu\")\r\n    Array.from(this.DASHES).map((dash, index) => {\r\n      if (dash.classList.contains('active')) {\r\n        menu.childNodes[ index ].classList.add('active');\r\n      } else {\r\n        menu.childNodes[ index ].classList.remove('active');\r\n      }\r\n    })\r\n    console.log(menu.childNodes);\r\n  }\r\n\r\n  isEnoughTimePassed(now) {\r\n    const passed = (now - this.TIMER);\r\n    return passed >= this.DASH_SPEED;\r\n  }\r\n\r\n  moveNextDash(nextDash) {\r\n    const offsetTop = nextDash.offsetTop * -1;\r\n    this.DASHER.style.transform = `matrix(1,0,0,1,0,${offsetTop})`;\r\n  }\r\n\r\n  getNextDash(dash, loopDashing, event) {\r\n    let next; \r\n    const selection = event.direction === 'down'?\r\n    {\r\n      sibling: 'nextElementSibling',\r\n      loopDash: _.first(this.DASHES)\r\n    } \r\n    : \r\n    {\r\n      sibling: 'previousElementSibling',\r\n      loopDash: _.last(this.DASHES)\r\n    };\r\n\r\n    if(dash[ selection.sibling ]) {\r\n      return dash[ selection.sibling ];\r\n    } else {\r\n      if (this.LOOP_DASHING) \r\n        return selection.loopDash;\r\n    }\r\n  }\r\n\r\n  getDirection(deltaY) {\r\n    return deltaY >= 0 ? \r\n    { direction: \"down\", modifier: -1, deltaY} \r\n    : \r\n    { direction: \"up\", modifier: 1, deltaY};\r\n  }\r\n\r\n  setDashingState() {\r\n    this.DASHING = true;\r\n    this.DASHER.classList.add(\"dashing\");\r\n    setTimeout(() => {\r\n      this.DASHING = false;\r\n      this.DASHER.classList.remove(\"dashing\");\r\n    }, this.DASH_SPEED);\r\n  }\r\n\r\n  setActiveDash(dash) {\r\n    Array.from(this.DASHES)\r\n      .forEach(el => el.classList.remove(\"active\"));\r\n\r\n    this.ACTIVE_DASH = dash;\r\n    this.ACTIVE_DASH.classList.add(\"active\");\r\n    this.setDashingState();          \r\n  }\r\n\r\n  setDasherAnimation(duration, style) {\r\n    this.DASHER.style.transition = `all ${duration / 1000}s ${style}`;\r\n  }\r\n\r\n  _initDashStyles() {\r\n    Array.from(this.DASHES).forEach((dash) => {\r\n      \r\n      dash.style.overflow = \"hidden\";\r\n      dash.style.height = \"100vh\";\r\n      dash.style.width = \"100%\";\r\n\r\n      const inner = dash.getElementsByClassName('inner')[0];\r\n            inner.style.minHeight = \"100vh\";\r\n            inner.style.width = \"100%\";\r\n            inner.style.transform = `matrix(1,0,0,1,0,0)`;\r\n            \r\n    })\r\n  }\r\n\r\n  _initInnerDash() {\r\n    Array.from(this.DASHES).forEach((dash) => {\r\n      let org_html = dash.innerHTML;\r\n      let new_html = \"<div class='inner'>\" + org_html + \"</div>\";\r\n      dash.innerHTML = new_html;\r\n    })\r\n  }\r\n\r\n  handleMenuClick(e) {\r\n\r\n    const dash = this.DASHES[ e.target.dataset.index ];\r\n    this.setActiveDash(dash);\r\n    this.moveNextDash(dash);\r\n    this.setActiveMenu(dash);\r\n  }\r\n  \r\n  _initStdMenu() {\r\n    const ul = document.createElement(\"ul\");\r\n    ul.classList.add(\"dasher-menu\");\r\n    \r\n    const length = this.DASHES.length;\r\n    for(let i = 0; i<length;i++) {\r\n\r\n      const li = document.createElement(\"li\");\r\n      if(i === 0) {\r\n        li.classList.add('active');\r\n      }\r\n      li.onclick = (e) => this.handleMenuClick(e);\r\n      li.dataset.index = i;\r\n      li.style.transition = `all ${this.DASH_SPEED / 1000}s ease`;\r\n      ul.appendChild(li);\r\n    }\r\n    document.body.appendChild(ul);\r\n  }\r\n\r\n  _initDOM() {\r\n    this._initInnerDash();\r\n    if(this.STD_MENU) this._initStdMenu();\r\n    this._initDashStyles();\r\n    this.setDasherAnimation(this.DASH_SPEED, this.DASH_TRANSITION);\r\n    this.setActiveDash(this.ACTIVE_DASH);\r\n  }\r\n\r\n  start() {\r\n    this._initDOM();\r\n    window.addEventListener('wheel', this.onWheel);\r\n  }\r\n}\r\n\r\nexport default Dasher;\r\n","import \"./src/Dasher.css\";\r\n\r\nimport Dasher from \"./src/Dasher\";\r\n\r\nconst dasher = new Dasher({\r\n  // phantomHandler: handler\r\n});\r\ndasher.start();\r\n\r\nfunction handler(dash, value) {\r\n  console.log('dash is ', dash)\r\n}","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}